import{B as V,G as j,H as k,I as L,J as $,K as z,L as A,M as H,N as J,P as q,R as U,a as I,b as u,c as E,d as N,e as T,f as w,g as B,h as R,i as G}from"./chunk-SSYOD5HR.js";import{$a as o,Aa as a,Da as C,Ea as p,Gb as P,Ka as S,Nb as F,Oa as M,Qb as D,S as v,Ua as O,Va as s,Za as _,_a as n,ab as x,db as f,ob as m,p as b,qb as g,tb as l,ub as c,v as y}from"./chunk-SHUJRWSQ.js";function K(d,t){d&1&&(n(0,"mat-error"),m(1,"Please enter a valid 6-char OTP"),o())}var W=class d{constructor(t,r,e,i,h){this.document=t;this.renderer=r;this.fb=e;this.sharedData=i;this.httpClient=h;this.seconds=i.mobileToGetOtp.expireAt-new Date().getTime(),this.renderer.addClass(this.document.body,"full-height"),this.renderer.addClass(this.document.body,"d-flex"),this.renderer.addClass(this.document.body,"align-items-center"),this.renderer.addClass(this.document.body,"py-4"),this.renderer.addClass(this.document.body,"bg-body-tertiary"),this.document.getElementsByTagName("app-root")[0].classList.add("full-width"),this.document.getElementsByTagName("html")[0].classList.add("full-height"),this.myForm=this.fb.group({otp:["",[u.required,u.minLength(6),u.maxLength(6)]]})}myForm;matcher=new V;seconds=10;timeRemaining$=y(0,1e3).pipe(b(t=>this.seconds-t),v(t=>t>=0));ngOnInit(){}resend(t){t.stopPropagation(),this.seconds=10}onSubmit(t){t.valid&&this.httpClient.post("api/v1/auth/verify-otp",{otp:t.value.otp}).subscribe(r=>{console.log(r)})}JSON=JSON;static \u0275fac=function(r){return new(r||d)(p(P),p(C),p(R),p(U),p(D))};static \u0275cmp=S({type:d,selectors:[["app-verify-otp"]],inputs:{seconds:"seconds"},decls:21,vars:13,consts:[[1,"form-signin","w-100","m-auto","text-center"],[3,"ngSubmit","formGroup"],[1,"form-floating"],[1,"full-width"],["matInput","","formControlName","otp",3,"type"],["matSuffix","","mat-raised-button","",2,"margin-right","6px",3,"click","disabled"],["type","submit",1,"btn","btn-primary","w-100","py-2"]],template:function(r,e){if(r&1&&(n(0,"main",0)(1,"div")(2,"p"),m(3),l(4,"async"),o()(),n(5,"form",1),f("ngSubmit",function(){return e.onSubmit(e.myForm)}),n(6,"div",2)(7,"mat-form-field",3)(8,"mat-label"),m(9,"OTP"),o(),x(10,"input",4),n(11,"button",5),l(12,"async"),f("click",function(h){return e.resend(h)}),m(13,` RESEND
`),o(),M(14,K,2,0,"mat-error"),o()(),n(15,"div")(16,"span"),m(17),l(18,"async"),o()(),n(19,"button",6),m(20,"Sign in"),o()()()),r&2){let i;a(3),g("enter otp that send to ",c(4,7,e.sharedData.mobileToGetOtp$).mobile,""),a(2),s("formGroup",e.myForm),a(5),s("type","text"),a(),s("disabled",c(12,9,e.timeRemaining$)>0),O("aria-label","OTP"),a(3),_((i=e.myForm.get("otp"))!=null&&i.invalid&&((i=e.myForm.get("otp"))!=null&&i.dirty)?14:-1),a(3),g("",c(18,11,e.timeRemaining$)," Seconds until resend")}},dependencies:[G,T,I,E,N,w,B,A,z,$,j,k,L,q,J,H,F],styles:[".form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]})};export{W as VerifyOtpComponent};
